{
  "name": "abaculus",
  "version": "1.2.1",
  "description": "stitches map tiles together for high-res exporting from tm2",
  "main": "index.js",
  "contributors": [
    {
      "name": "Yuri Astrakhan",
      "email": "yurik@wikimedia.org"
    }
  ],
  "scripts": {
    "test": "mocha -R spec"
  },
  "repository": {
    "type": "git",
    "url": "git+ssh://git@github.com/mapbox/abaculus.git"
  },
  "dependencies": {
    "queue-async": "1.0.7",
    "sphericalmercator": "1.0.x",
    "mapnik": "~3.4.1"
  },
  "devDependencies": {
    "mocha": "2.x"
  },
  "gitHead": "a6a750eb731505946cc02fd082001f197b67b06b",
  "readme": "## abaculus\na small block of stone, tile, glass, or other material used in the construction of a mosaic\n\nor,\n\na library for creating static maps from tiles based on center or corner lng,lat coordinates.\nUses node-mapnik to stitch tiles together.\n\n[![Build Status](https://travis-ci.org/mapbox/abaculus.svg?branch=master)](https://travis-ci.org/mapbox/abaculus)\n\n[![Build status](https://ci.appveyor.com/api/projects/status/k5e2v42uhbda1ihx)](https://ci.appveyor.com/project/Mapbox/abaculus)\n\nLooking to create high res images of maps? Abaculus was written for use in [Mapbox Studio](http://github.com/mapbox/mapbox-studio) and you can use Mapbox Studio to create and export high resolution images -- see [https://www.mapbox.com/guides/print/](https://www.mapbox.com/guides/print/) for more information. You can even use [that utility from the command line](https://github.com/mapbox/mapbox-studio/issues/1024#issuecomment-63535433).\n\n### usage\n\nUsage and example formatting below, or see the [tests](https://github.com/mapbox/abaculus/blob/master/test/test.js#L158-L204) for a more robust example with a `getTile` function.\n\n#### input:\n`scale`: integer between 1-4 and sets resolution (`scale: 1` is 72dpi, `scale: 4`, is 288dpi)\n\n`zoom`: zoom level\n\n`[w, s, e, n]`: the bounding box for the west (lat val), south (lng val), east (lat val), north (lng val) for the desired area\n\n`lon`: longitude coordinate (also supports `x` for legacy)\n\n`lat`: latitude coordinate (also supports `y` for legacy)\n\n`width` and `height`: desired pixel bounds for a map with a center coordinate. Will be multiplied by scale to maintain resolution.\n\n`format` (optional): `png` or `jpeg`, default is `png`.\n\n`quality` (optional): when used with `jpeg` format, accepts 1-100 and defaults to 80. when used with `png` format, accepts 2-256 (# of colors to reduce the image to) and defaults to none.\n\n`getTile`: a function that returns a tile buffer (png or otherwise) and headers given `z`, `x`, `y`, and a callback, such as from [tilelive-vector](https://github.com/mapbox/tilelive-vector/blob/master/index.js#L119-L218) or this [test function](https://github.com/mapbox/abaculus/blob/master/test/test.js#L184-L204).\n\n`limit` (optional): max width or height of generated image in pixels. Default is `19008`.\n\n```javascript\n// Calculate image bounds from W,S,E,N bounding box.\nvar params = {\n    zoom: {zoom},\n    scale: {scale}\n    bbox: [{w}, {s}, {e}, {n}],\n    format: {format},\n    quality: {quality},\n    getTile: function(z,x,y, callback){\n                // do something\n                return callback(null, buffer, headers);\n            },\n    limit: {limit}\n};\n```\nor\n```javascript\n// Calculate image bounds from center lng,lat coordinates and\n// pixel dimensions of final image (will be multipled by scale).\nvar params = {\n    zoom: {zoom},\n    scale: {scale}\n    center: {\n        lon: {lon},\n        lat: {lat},\n        w: {width},\n        h: {height}\n    },\n    format: {format},\n    quality: {quality},\n    getTile: function(z,x,y, callback){\n                // do something\n                return callback(null, buffer, headers);\n            },\n    limit: {limit}\n};\n```\n#### usage:\n``` javascript\nabaculus(params, function(err, image, headers){\n       if (err) return err;\n       // do something with image\n    });\n```\n\n#### output:\nan image of desired resolution for the selected area.\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/mapbox/abaculus/issues"
  },
  "homepage": "https://github.com/mapbox/abaculus#readme",
  "_id": "abaculus@1.2.1",
  "_shasum": "8e11dfcd862fbbc3c11ac5c4b949b4c7298a7996",
  "_from": "git+https://github.com/nyurik/abaculus.git",
  "_resolved": "git+https://github.com/nyurik/abaculus.git#a6a750eb731505946cc02fd082001f197b67b06b"
}
